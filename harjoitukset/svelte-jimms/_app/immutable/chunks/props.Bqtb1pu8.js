import{U as T,V as $,W as G,X as P,Y as K,Z as b,_ as D,$ as _,g as y,D as B,a0 as V,a1 as z,B as H,i as W,E as X,j as J,m as M,M as Q,a2 as k,o as p,a3 as ee,a4 as ae,a5 as re,a6 as ne,a as U,a7 as te,a8 as ie,A as Y,a9 as fe,l as se,aa as ue,ab as le,ac as ve,f as q,ad as _e,ae as de,af as ce}from"./runtime.BuwbZJLO.js";function I(n,s=null,o){if(typeof n!="object"||n===null||T in n)return n;const g=z(n);if(g!==$&&g!==G)return n;var i=new Map,v=H(n),h=P(0);v&&i.set("length",P(n.length));var m;return new Proxy(n,{defineProperty(f,e,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&K();var t=i.get(e);return t===void 0?(t=P(a.value),i.set(e,t)):b(t,I(a.value,m)),!0},deleteProperty(f,e){var a=i.get(e);if(a===void 0)e in f&&i.set(e,P(_));else{if(v&&typeof e=="string"){var t=i.get("length"),r=Number(e);Number.isInteger(r)&&r<t.v&&b(t,r)}b(a,_),j(h)}return!0},get(f,e,a){var d;if(e===T)return n;var t=i.get(e),r=e in f;if(t===void 0&&(!r||(d=D(f,e))!=null&&d.writable)&&(t=P(I(r?f[e]:_,m)),i.set(e,t)),t!==void 0){var u=y(t);return u===_?void 0:u}return Reflect.get(f,e,a)},getOwnPropertyDescriptor(f,e){var a=Reflect.getOwnPropertyDescriptor(f,e);if(a&&"value"in a){var t=i.get(e);t&&(a.value=y(t))}else if(a===void 0){var r=i.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==_)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return a},has(f,e){var u;if(e===T)return!0;var a=i.get(e),t=a!==void 0&&a.v!==_||Reflect.has(f,e);if(a!==void 0||B!==null&&(!t||(u=D(f,e))!=null&&u.writable)){a===void 0&&(a=P(t?I(f[e],m):_),i.set(e,a));var r=y(a);if(r===_)return!1}return t},set(f,e,a,t){var R;var r=i.get(e),u=e in f;if(v&&e==="length")for(var d=a;d<r.v;d+=1){var E=i.get(d+"");E!==void 0?b(E,_):d in f&&(E=P(_),i.set(d+"",E))}r===void 0?(!u||(R=D(f,e))!=null&&R.writable)&&(r=P(void 0),b(r,I(a,m)),i.set(e,r)):(u=r.v!==_,b(r,I(a,m)));var c=Reflect.getOwnPropertyDescriptor(f,e);if(c!=null&&c.set&&c.set.call(t,a),!u){if(v&&typeof e=="string"){var S=i.get("length"),O=Number(e);Number.isInteger(O)&&O>=S.v&&b(S,O+1)}j(h)}return!0},ownKeys(f){y(h);var e=Reflect.ownKeys(f).filter(r=>{var u=i.get(r);return u===void 0||u.v!==_});for(var[a,t]of i)t.v!==_&&!(a in f)&&e.push(a);return e},setPrototypeOf(){V()}})}function j(n,s=1){b(n,n.v+s)}function be(n,s,o){M&&Q();var g=n,i,v;W(()=>{i!==(i=s())&&(v&&(k(v),v=null),i&&(v=J(()=>o(g,i))))},X),M&&(g=p)}let N=!1;function oe(n){var s=N;try{return N=!1,[n(),N]}finally{N=s}}function Z(n){for(var s=B,o=B;s!==null&&!(s.f&(te|ie));)s=s.parent;try{return Y(s),n()}finally{Y(o)}}function ye(n,s,o,g){var F;var i=(o&fe)!==0,v=!se||(o&ue)!==0,h=(o&le)!==0,m=(o&ce)!==0,f=!1,e;h?[e,f]=oe(()=>n[s]):e=n[s];var a=T in n||ve in n,t=h&&(((F=D(n,s))==null?void 0:F.set)??(a&&s in n&&(l=>n[s]=l)))||void 0,r=g,u=!0,d=!1,E=()=>(d=!0,u&&(u=!1,m?r=U(g):r=g),r);e===void 0&&g!==void 0&&(t&&v&&ee(),e=E(),t&&t(e));var c;if(v)c=()=>{var l=n[s];return l===void 0?E():(u=!0,d=!1,l)};else{var S=Z(()=>(i?q:_e)(()=>n[s]));S.f|=ae,c=()=>{var l=y(S);return l!==void 0&&(r=void 0),l===void 0?r:l}}if(!(o&re))return c;if(t){var O=n.$$legacy;return function(l,w){return arguments.length>0?((!v||!w||O||f)&&t(w?c():l),l):c()}}var R=!1,C=!1,x=de(e),A=Z(()=>q(()=>{var l=c(),w=y(x);return R?(R=!1,C=!0,w):(C=!1,x.v=l)}));return i||(A.equals=ne),function(l,w){if(arguments.length>0){const L=w?y(A):v&&h?I(l):l;return A.equals(L)||(R=!0,b(x,L),d&&r!==void 0&&(r=L),U(()=>y(A))),l}return y(A)}}export{I as a,be as c,ye as p};
